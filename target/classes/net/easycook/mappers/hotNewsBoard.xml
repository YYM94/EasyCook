<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="HotNewsBoard">
	<insert id="insert_hn" parameterType="hb">
		insert into hotNewsBoard (hno, hwriter, htitle, hcont, hlink, regdate) 
		values(hno_seq.nextval, 'admin', #{htitle}, #{hcont}, #{hlink}, sysdate)
	</insert>
	
	<select id="count" resultType="int">
		select count(*) from hotNewsBoard
	</select>
	
	<!-- 페이징이 적용된 게시판 목록 -->
	<select id="list_hn" resultType="hb" parameterType="hb">
		select * from
		(select rowNum rNum, hno, hwriter, htitle, viewcnt, regdate from (select * from hotNewsBoard order by hno desc))
 		where rNum &gt;= #{startrow} and rNum &lt;= #{endrow} <!-- &gt;= 은 >=, &lt;= 은 <= -->
	</select>
	
	<!-- 조회수 증가 -->
 	<update id="hit_hn" parameterType="int">
 		update hotNewsBoard set viewcnt=viewcnt+1 where hno=#{hno}
 	</update>
 	
 	<!-- 내용보기 -->
 	<select id="cont_hn" parameterType="int" resultType="hb">
 		select * from hotNewsBoard where hno=#{hno}
 	</select>
 </mapper>