<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="RecipeBoard">
 
	<insert id="ins_rb" parameterType="rb">
		insert into recipeBoard 
		(no, writerid, title, videoLink, imgIndex, imgFolder, textPack, regdate, moddate)
		values
		(rb_seq.nextval, #{writerid}, #{title}, #{videoLink}, #{imgIndex}, CONCAT(#{imgFolder}, CAST(rb.seq.currval as char)), #{textPack}, sysdate, syadate)
		<selectKey keyProperty="no" resultType="int">
			select rb_seq.currval from dual;
		</selectKey>
	</insert>
 
</mapper>